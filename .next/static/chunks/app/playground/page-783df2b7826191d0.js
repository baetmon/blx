(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[383],{4055:function(e,l,r){Promise.resolve().then(r.bind(r,3847))},3847:function(e,l,r){"use strict";r.d(l,{default:function(){return P}});var t=r(9368),o=r(327),n=r(9866),i=r(4300),a=r(7592),s={src:"/_next/static/media/blum.8a85c0e4.svg"},u=r(1275),d=r(5655);function c(e){let{className:l,...r}=e;return(0,t.jsx)("div",{className:(0,d.cn)("animate-pulse rounded-md bg-primary/10",l),...r})}var v=r(8866),f=r(6041),m=r(8520);let h=f.forwardRef((e,l)=>{let{className:r,orientation:o="horizontal",decorative:n=!0,...i}=e;return(0,t.jsx)(m.f,{ref:l,decorative:n,orientation:o,className:(0,d.cn)("shrink-0 bg-border","horizontal"===o?"h-[1px] w-full":"h-full w-[1px]",r),...i})});h.displayName=m.f.displayName;var p=r(1362);let x=f.forwardRef((e,l)=>{let{className:r,value:o,...n}=e;return(0,t.jsx)(p.fC,{ref:l,className:(0,d.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",r),...n,children:(0,t.jsx)(p.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(o||0),"%)")}})})});x.displayName=p.fC.displayName;var w=r(8255);let g=f.forwardRef((e,l)=>{let{className:r,children:o,...n}=e;return(0,t.jsxs)(w.fC,{ref:l,className:(0,d.cn)("relative overflow-hidden",r),...n,children:[(0,t.jsx)(w.l_,{className:"h-full w-full rounded-[inherit]",children:o}),(0,t.jsx)(k,{}),(0,t.jsx)(w.Ns,{})]})});g.displayName=w.fC.displayName;let k=f.forwardRef((e,l)=>{let{className:r,orientation:o="vertical",...n}=e;return(0,t.jsx)(w.gb,{ref:l,orientation:o,className:(0,d.cn)("flex touch-none select-none transition-colors","vertical"===o&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===o&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",r),...n,children:(0,t.jsx)(w.q4,{className:"relative flex-1 rounded-full bg-border"})})});k.displayName=w.gb.displayName;var y=r(6246),b=r(9808),N=r(504);let j=async e=>{let l;try{var r,t,o,n,i,a;let s=await y.eH.getItem(e);if(!s)throw Error("You are not logged in.");let u=await fetch("./api/auth",{cache:"no-store",method:"POST",headers:{"init-data":s}});if(!(null==(l=await u.json())?void 0:l.ok))throw Error(null!==(t=null==l?void 0:l.error)&&void 0!==t?t:"Error in login function.");if((null==u?void 0:u.ok)&&(null==l?void 0:null===(r=l.result)||void 0===r?void 0:r.token)){let r={accessToken:null==l?void 0:null===(n=l.result)||void 0===n?void 0:null===(o=n.token)||void 0===o?void 0:o.access,refreshToken:null==l?void 0:null===(a=l.result)||void 0===a?void 0:null===(i=a.token)||void 0===i?void 0:i.refresh};await y.Ju.setItem(e,r)}return l}catch(e){throw console.error("Error in login function.",e),Error("Error in login function.")}};var E=r(9915);function T(e){let l=Math.floor(Date.now()/1e3);try{let r=(0,E.t)(e);if((null==r?void 0:r.exp)&&l>(null==r?void 0:r.exp))return!0;return!1}catch(e){return console.warn(e),!0}}let S=async e=>{let l;try{var r,t,o,n,i,a,s,u,d,c,v,f,m,h,p;let x=await y.Ju.getItem(e);if(null===x){let l=await j(e);if((null==l?void 0:l.ok)&&(null==l?void 0:null===(o=l.result)||void 0===o?void 0:o.token))x={accessToken:null==l?void 0:null===(i=l.result)||void 0===i?void 0:null===(n=i.token)||void 0===n?void 0:n.access,refreshToken:null==l?void 0:null===(s=l.result)||void 0===s?void 0:null===(a=s.token)||void 0===a?void 0:a.refresh};else throw Error("Game Session not found in cache")}else if(T(null==x?void 0:x.refreshToken)){let r=await j(e);if(null==r||!r.ok||null==r||null===(u=r.result)||void 0===u||!u.token)return l={ok:!1,error:"Unable to parse auth token."};x={accessToken:null==r?void 0:null===(c=r.result)||void 0===c?void 0:null===(d=c.token)||void 0===d?void 0:d.access,refreshToken:null==r?void 0:null===(f=r.result)||void 0===f?void 0:null===(v=f.token)||void 0===v?void 0:v.refresh}}let w=await fetch("./api/refresh",{cache:"no-store",method:"POST",headers:{refreshToken:null==x?void 0:x.refreshToken}});if(!(null==(l=await w.json())?void 0:l.ok))throw Error(null!==(m=null==l?void 0:l.error)&&void 0!==m?m:"Error in refresh function.");if((null==w?void 0:w.ok)&&(null==l?void 0:null===(r=l.result)||void 0===r?void 0:r.access)&&(null==l?void 0:null===(t=l.result)||void 0===t?void 0:t.refresh)){let r={accessToken:null==l?void 0:null===(h=l.result)||void 0===h?void 0:h.access,refreshToken:null==l?void 0:null===(p=l.result)||void 0===p?void 0:p.refresh};await y.Ju.setItem(e,r)}return l}catch(e){throw console.error("Error getting fresh token function:",e),Error("Error getting fresh token function.")}},I=async e=>{let l;try{var r,t,o,n,i,a,s,u,d;let c=await y.Ju.getItem(e);if(null===c){let l=await j(e);if(l.ok&&(null==l?void 0:null===(r=l.result)||void 0===r?void 0:r.token))c={accessToken:null==l?void 0:null===(o=l.result)||void 0===o?void 0:null===(t=o.token)||void 0===t?void 0:t.access,refreshToken:null==l?void 0:null===(n=l.result)||void 0===n?void 0:n.token.refresh};else throw Error("Game Session not found in cache")}if(T(null==c?void 0:c.accessToken)){let l=await S(e);(null==l?void 0:l.ok)&&(null==l?void 0:null===(i=l.result)||void 0===i?void 0:i.access)&&(null==l?void 0:null===(a=l.result)||void 0===a?void 0:a.refresh)&&(c={accessToken:null==l?void 0:null===(s=l.result)||void 0===s?void 0:s.access,refreshToken:null==l?void 0:null===(u=l.result)||void 0===u?void 0:u.refresh})}let v=await fetch("./api/me",{cache:"no-store",method:"GET",headers:{authorization:"Bearer ".concat(c.accessToken)}});if(!(null==(l=await v.json())?void 0:l.ok))throw Error(null!==(d=null==l?void 0:l.error)&&void 0!==d?d:"Error in me function");return l}catch(e){throw console.error("Error getting me:",e),Error("Error getting me")}},_=async e=>{let l;try{var r,t,o,n,i,a,s,u,d;let c=await y.Ju.getItem(e);if(null===c){let l=await j(e);if(l.ok&&(null==l?void 0:null===(r=l.result)||void 0===r?void 0:r.token))c={accessToken:null==l?void 0:null===(o=l.result)||void 0===o?void 0:null===(t=o.token)||void 0===t?void 0:t.access,refreshToken:null==l?void 0:null===(n=l.result)||void 0===n?void 0:n.token.refresh};else throw Error("Game Session not found in cache")}if(T(null==c?void 0:c.accessToken)){let l=await S(e);(null==l?void 0:l.ok)&&(null==l?void 0:null===(i=l.result)||void 0===i?void 0:i.access)&&(null==l?void 0:null===(a=l.result)||void 0===a?void 0:a.refresh)&&(c={accessToken:null==l?void 0:null===(s=l.result)||void 0===s?void 0:s.access,refreshToken:null==l?void 0:null===(u=l.result)||void 0===u?void 0:u.refresh})}let v=await fetch("./api/balance",{cache:"no-store",method:"GET",headers:{authorization:"Bearer ".concat(null==c?void 0:c.accessToken)}});if(l=await v.json(),!v.ok)throw Error(null!==(d=null==l?void 0:l.error)&&void 0!==d?d:"Error getting balance");return l}catch(e){throw console.error("Error getting me:",e),Error("Error getting me")}},A=async e=>{let l;try{var r,t,o,n,i,a,s,u,d;let c=await y.Ju.getItem(e);if(null===c){let l=await j(e);if(l.ok&&(null==l?void 0:null===(r=l.result)||void 0===r?void 0:r.token))c={accessToken:null==l?void 0:null===(o=l.result)||void 0===o?void 0:null===(t=o.token)||void 0===t?void 0:t.access,refreshToken:null==l?void 0:null===(n=l.result)||void 0===n?void 0:n.token.refresh};else throw Error("Game Session not found in cache")}if(T(null==c?void 0:c.accessToken)){let l=await S(e);(null==l?void 0:l.ok)&&(null==l?void 0:null===(i=l.result)||void 0===i?void 0:i.access)&&(null==l?void 0:null===(a=l.result)||void 0===a?void 0:a.refresh)&&(c={accessToken:null==l?void 0:null===(s=l.result)||void 0===s?void 0:s.access,refreshToken:null==l?void 0:null===(u=l.result)||void 0===u?void 0:u.refresh})}let v=await fetch("./api/game/play",{cache:"no-store",method:"POST",headers:{authorization:"Bearer ".concat(null==c?void 0:c.accessToken)}});if(!(null==(l=await v.json())?void 0:l.ok))throw Error(null!==(d=null==l?void 0:l.error)&&void 0!==d?d:"Error in game play function");return l}catch(e){throw console.error("Error playing game function:",e),Error("Error playing game function.")}},O=async(e,l)=>{let r;try{var t,o,n,i,a,s,u,d,c;let v=await y.Ju.getItem(e);if(null===v){let l=await j(e);if(l.ok&&(null==l?void 0:null===(t=l.result)||void 0===t?void 0:t.token))v={accessToken:null==l?void 0:null===(n=l.result)||void 0===n?void 0:null===(o=n.token)||void 0===o?void 0:o.access,refreshToken:null==l?void 0:null===(i=l.result)||void 0===i?void 0:i.token.refresh};else throw Error("Game Session not found in cache")}if(T(null==v?void 0:v.accessToken)){let l=await S(e);(null==l?void 0:l.ok)&&(null==l?void 0:null===(a=l.result)||void 0===a?void 0:a.access)&&(null==l?void 0:null===(s=l.result)||void 0===s?void 0:s.refresh)&&(v={accessToken:null==l?void 0:null===(u=l.result)||void 0===u?void 0:u.access,refreshToken:null==l?void 0:null===(d=l.result)||void 0===d?void 0:d.refresh})}let f=await fetch("./api/game/claim",{method:"POST",headers:{authorization:"Bearer ".concat(null==v?void 0:v.accessToken)},body:JSON.stringify({...l})});if(r=await f.json(),!(null==f?void 0:f.ok))throw Error(null!==(c=null==r?void 0:r.error)&&void 0!==c?c:"Error claim game");return r}catch(e){throw console.error("Error claim func game:",e),Error("Error claim function game")}};function P(){var e,l,r,m,p,w,k,j,E,T,S,P;let D=(0,n.useSearchParams)(),M=(0,n.useRouter)(),z=D.get("id"),[C,F]=(0,f.useState)(0),[R,B]=(0,f.useState)(0),[U,G]=(0,f.useState)("Nothing..."),[J,q]=(0,f.useState)(!1),[K,H]=(0,f.useState)(0);(0,f.useEffect)(()=>{""===z||isNaN(Number(z))?M.push("/profiles"):y.eH.getItem(z,(e,l)=>{(null===l||null!==e)&&M.push("/profiles")})},[M,z]);let{isPending:V,data:W}=(0,N.a)({queryKey:["me"],retry:5,retryDelay:e=>Math.min(1e3*2**e,3e4),queryFn:()=>I(z),placeholderData:()=>({ok:!0,result:{id:{id:"not"},username:"\uD83E\uDD14 NOT FOUND"}})}),{isPending:Y,data:$,refetch:L}=(0,N.a)({queryKey:["balance"],retry:5,retryDelay:e=>Math.min(1e3*2**e,3e4),queryFn:()=>_(z),placeholderData:()=>({ok:!0,result:{playPasses:0,availableBalance:"0"}})});(0,f.useEffect)(()=>{let e;if(J&&R>0){let l=1e3*R/100,r=0;e=setInterval(()=>{let t=Math.min((r+=1)/l*100,100);H(t),t>=100&&(clearInterval(e),q(!1))},100)}return()=>clearInterval(e)},[J,R]);let Q=async()=>{try{var e,l,r,t,o,n,i,a,s,u,c,v,f,m,h,p;if(F(null!==(t=Number(null==$?void 0:null===(e=$.result)||void 0===e?void 0:e.playPasses))&&void 0!==t?t:0),q(!0),(null==$?void 0:$.ok)&&(null==$?void 0:null===(l=$.result)||void 0===l?void 0:l.playPasses)&&Number(null==$?void 0:null===(r=$.result)||void 0===r?void 0:r.playPasses)>0){let e=await y.uk.getItem(z);null===y.uk?e={min:null!==(a=null==e?void 0:e.min)&&void 0!==a?a:200,max:null!==(s=null==e?void 0:e.max)&&void 0!==s?s:250,auto:null!==(u=null==e?void 0:e.auto)&&void 0!==u&&u}:(null==e?void 0:e.min)&&(null==e?void 0:e.max)||(e={min:null!==(c=null==e?void 0:e.min)&&void 0!==c?c:200,max:null!==(v=null==e?void 0:e.max)&&void 0!==v?v:250,auto:null!==(f=null==e?void 0:e.auto)&&void 0!==f&&f});let l=[(0,d.Kd)(31,35),(0,d.Kd)(3,5)],r=await A(z);if(!(null==r?void 0:r.ok)||!(null==r?void 0:null===(o=r.result)||void 0===o?void 0:o.gameId)){(0,b.Am)({title:"⛔ Error",description:null!==(m=null==r?void 0:r.error)&&void 0!==m?m:"Unable to start game",variant:"destructive"}),q(!1);return}let t=l.reduce((e,l)=>e+l,0);G("✅ Started game with ID: ".concat(null==r?void 0:null===(n=r.result)||void 0===n?void 0:n.gameId,"\n⏳Waiting ").concat(l[0]," seconds to claim...")),B(t),await (0,d._v)(l[0]);let x=(0,d.Kd)(null==e?void 0:e.min,null==e?void 0:e.max),w={gameId:null==r?void 0:null===(i=r.result)||void 0===i?void 0:i.gameId,points:x};G("⭐ Claiming game with ".concat(x," BLUM points...")),await (0,d._v)(l[1]);let g=await O(z,w);if(!(null==g?void 0:g.ok)||(null==g?void 0:g.result)!=="OK"){(0,b.Am)({title:"⛔ Error",description:null!==(h=null==g?void 0:g.error)&&void 0!==h?h:"Unable to claim game",variant:"destructive"}),G(null!==(p=null==g?void 0:g.error)&&void 0!==p?p:"Unable to claim game"),await L(),q(!1);return}G("✅ Game claimed with ".concat(x," BLUM points")),await L(),q(!1);return}(0,b.Am)({title:"⛔ Error",description:"Insufficient Passes",variant:"destructive"}),q(!1);return}catch(e){console.error(e),(0,b.Am)({title:"⛔ Error",description:"Error playing game",variant:"destructive"}),q(!1);return}},X=async()=>{let e=await y.uk.getItem(z);if(null!==e&&null!=e&&e.auto){var l,r,t;if((null==$?void 0:$.ok)&&(null==$?void 0:$.result)&&(null==$?void 0:null===(l=$.result)||void 0===l?void 0:l.playPasses)>0)for(F(null!==(t=Number(null==$?void 0:null===(r=$.result)||void 0===r?void 0:r.playPasses))&&void 0!==t?t:0);C>0;)await Q(),G("⏳ Waiting 5 seconds before next game..."),await (0,d._v)(5),F(C-1)}else await Q()};return(0,t.jsx)(f.Suspense,{fallback:(0,t.jsx)(c,{className:"h-full w-full"}),children:(0,t.jsxs)("div",{className:"flex flex-col justify-between",children:[(0,t.jsxs)("section",{className:"my-5 flex w-full flex-col content-center items-center justify-center gap-y-4 space-y-1 py-2",children:[V?(0,t.jsx)(c,{className:"h-[100px] w-[100px] rounded-full"}):(null==W?void 0:W.ok)&&(null==W?void 0:W.result)&&(0,t.jsxs)(u.qE,{style:{width:100,height:100},children:[(0,t.jsx)(u.F$,{src:"https://s3.blum.codes/".concat(null==W?void 0:null===(e=W.result)||void 0===e?void 0:e.avatarFileKey),alt:"user",className:"rounded-full"}),(0,t.jsx)(u.Q5,{className:"text-2xl font-bold",children:(null==W?void 0:null===(l=W.result)||void 0===l?void 0:l.username)&&(0,d.Au)(null==W?void 0:null===(r=W.result)||void 0===r?void 0:r.username).split(" ").map(e=>e[0]).join("")})]}),V?(0,t.jsx)(c,{className:"h-10 w-[140px]"}):W&&(null==W?void 0:null===(m=W.result)||void 0===m?void 0:m.username)?(0,t.jsx)("span",{className:"text-2xl font-bold",children:null==W?void 0:null===(p=W.result)||void 0===p?void 0:p.username}):(0,t.jsx)(c,{className:"h-10 w-[140px]"}),(0,t.jsx)("div",{className:"flex",children:Y?(0,t.jsx)(c,{className:"h-12 w-[180px]"}):(null==$?void 0:$.result)&&(null==$?void 0:null===(w=$.result)||void 0===w?void 0:w.availableBalance)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.default,{src:s.src,alt:"blum",width:40,height:40,className:"rounded-full"})," ",(0,t.jsx)("span",{className:"text-4xl font-bold",children:new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(Number(null==$?void 0:null===(k=$.result)||void 0===k?void 0:k.availableBalance))})]}):(0,t.jsx)(c,{className:"h-12 w-[180px]"})})]}),(0,t.jsx)("section",{className:"mx-auto my-5 w-full rounded-lg",children:(0,t.jsxs)("div",{className:"mx-4 rounded-lg border p-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)(v._,{children:"Events"}),(0,t.jsx)(i.z,{size:"icon",variant:"ghost",className:"my-auto h-5 w-5 rounded-full",disabled:!J,children:(0,t.jsx)(a.Z,{className:"stroke-red-500"})})]}),(0,t.jsx)(h,{className:"mt-2"}),(0,t.jsx)(g,{className:"my-4 h-20 w-full whitespace-break-spaces px-2 font-mono text-muted-foreground",children:U}),(0,t.jsx)(h,{className:"mb-2"}),(0,t.jsx)(x,{value:K})]})}),(0,t.jsx)("section",{className:"fixed bottom-4 mx-auto w-full",children:(0,t.jsx)("div",{className:"mx-4 rounded-lg bg-stone-800 bg-custom bg-cover bg-no-repeat px-7 py-2",children:(0,t.jsxs)("div",{className:"space-y-2 border-none align-middle",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(o.default,{src:"/_next/static/media/drop.c39815e5.webp",alt:"drop",width:60,height:60,className:(0,d.cn)("my-2",J?"animate-spin":"")})}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("span",{className:"text-xl font-bold",children:"Drop game"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.default,{src:"/_next/static/media/ticket.bf28f778.webp",alt:"pass",width:20,height:20,className:"mr-2 inline"}),Y?(0,t.jsx)(c,{className:"inline-block h-3 w-[20px]"}):(null==$?void 0:$.result)&&(null==$?void 0:null===(j=$.result)||void 0===j?void 0:j.playPasses)?(0,t.jsx)("span",{className:"text-sm font-bold",children:null==$?void 0:null===(E=$.result)||void 0===E?void 0:E.playPasses}):(0,t.jsx)(c,{className:"inline-block h-3 w-[20px]"})]})]}),(0,t.jsx)(i.z,{variant:"default",disabled:0>=Number(null!==(P=null==$?void 0:null===(T=$.result)||void 0===T?void 0:T.playPasses)&&void 0!==P?P:0)||Y||!$||!(null==$?void 0:null===(S=$.result)||void 0===S?void 0:S.playPasses)||J,type:"button",className:"rounded-full font-bold",onClick:X,children:"Play"})]})]})})})]})})}},6246:function(e,l,r){"use strict";r.d(l,{Ju:function(){return i},eH:function(){return n},ix:function(){return s},uk:function(){return a}});var t=r(9015),o=r.n(t);let n=o().createInstance({name:"profiles"}),i=o().createInstance({name:"gameSessions"}),a=o().createInstance({name:"gameConfig"});async function s(e){let l=[];try{return await e.iterate(e=>{l.push(e)}),l}catch(e){return console.error("Error getting all values:",e),[]}}},1275:function(e,l,r){"use strict";r.d(l,{F$:function(){return s},Q5:function(){return u},qE:function(){return a}});var t=r(9368),o=r(6041),n=r(3931),i=r(5655);let a=o.forwardRef((e,l)=>{let{className:r,...o}=e;return(0,t.jsx)(n.fC,{ref:l,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...o})});a.displayName=n.fC.displayName;let s=o.forwardRef((e,l)=>{let{className:r,...o}=e;return(0,t.jsx)(n.Ee,{ref:l,className:(0,i.cn)("aspect-square h-full w-full",r),...o})});s.displayName=n.Ee.displayName;let u=o.forwardRef((e,l)=>{let{className:r,...o}=e;return(0,t.jsx)(n.NY,{ref:l,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...o})});u.displayName=n.NY.displayName},4300:function(e,l,r){"use strict";r.d(l,{d:function(){return s},z:function(){return u}});var t=r(9368),o=r(6041),n=r(316),i=r(9325),a=r(5655);let s=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),u=o.forwardRef((e,l)=>{let{className:r,variant:o,size:i,asChild:u=!1,...d}=e,c=u?n.g7:"button";return(0,t.jsx)(c,{className:(0,a.cn)(s({variant:o,size:i,className:r})),ref:l,...d})});u.displayName="Button"},9808:function(e,l,r){"use strict";r.d(l,{Am:function(){return c},pm:function(){return v}});var t=r(6041);let o=0,n=new Map,i=e=>{if(n.has(e))return;let l=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,l)},a=(e,l)=>{switch(l.type){case"ADD_TOAST":return{...e,toasts:[l.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===l.toast.id?{...e,...l.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=l;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===l.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==l.toastId)}}},s=[],u={toasts:[]};function d(e){u=a(u,e),s.forEach(e=>{e(u)})}function c(e){let{...l}=e,r=(o=(o+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>d({type:"DISMISS_TOAST",toastId:r});return d({type:"ADD_TOAST",toast:{...l,id:r,open:!0,onOpenChange:e=>{e||t()}}}),{id:r,dismiss:t,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function v(){let[e,l]=t.useState(u);return t.useEffect(()=>(s.push(l),()=>{let e=s.indexOf(l);e>-1&&s.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},5655:function(e,l,r){"use strict";r.d(l,{Au:function(){return s},Kd:function(){return a},_v:function(){return i},cn:function(){return n}});var t=r(4488),o=r(4653);function n(){for(var e=arguments.length,l=Array(e),r=0;r<e;r++)l[r]=arguments[r];return(0,o.m6)((0,t.W)(l))}function i(e){return new Promise(l=>setTimeout(l,1e3*e))}function a(e,l){return Math.floor(Math.random()*(l-e+1))+e}function s(e){return e.replace(/[^\x00-\x7F]/g,"")}}},function(e){e.O(0,[945,69,145,111,487,744],function(){return e(e.s=4055)}),_N_E=e.O()}]);