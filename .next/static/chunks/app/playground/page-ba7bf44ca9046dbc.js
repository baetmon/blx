(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[383],{2676:function(e,n,t){Promise.resolve().then(t.bind(t,4443))},4443:function(e,n,t){"use strict";t.d(n,{default:function(){return C}});var r=t(7437),l=t(6648),o=t(6463),i=t(9733),a=t(6938),u={src:"/_next/static/media/blum.8a85c0e4.svg"},s=t(420),c=t(9354);function d(e){let{className:n,...t}=e;return(0,r.jsx)("div",{className:(0,c.cn)("animate-pulse rounded-md bg-primary/10",n),...t})}var f=t(8364),v=t(2265),g=t(8484);let b=v.forwardRef((e,n)=>{let{className:t,orientation:l="horizontal",decorative:o=!0,...i}=e;return(0,r.jsx)(g.f,{ref:n,decorative:o,orientation:l,className:(0,c.cn)("shrink-0 bg-border","horizontal"===l?"h-[1px] w-full":"h-full w-[1px]",t),...i})});b.displayName=g.f.displayName;var _=t(537);let w=v.forwardRef((e,n)=>{let{className:t,value:l,...o}=e;return(0,r.jsx)(_.fC,{ref:n,className:(0,c.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...o,children:(0,r.jsx)(_.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(l||0),"%)")}})})});w.displayName=_.fC.displayName;var m=t(2286);let h=v.forwardRef((e,n)=>{let{className:t,children:l,...o}=e;return(0,r.jsxs)(m.fC,{ref:n,className:(0,c.cn)("relative overflow-hidden",t),...o,children:[(0,r.jsx)(m.l_,{className:"h-full w-full rounded-[inherit]",children:l}),(0,r.jsx)(p,{}),(0,r.jsx)(m.Ns,{})]})});h.displayName=m.fC.displayName;let p=v.forwardRef((e,n)=>{let{className:t,orientation:l="vertical",...o}=e;return(0,r.jsx)(m.gb,{ref:n,orientation:l,className:(0,c.cn)("flex touch-none select-none transition-colors","vertical"===l&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===l&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...o,children:(0,r.jsx)(m.q4,{className:"relative flex-1 rounded-full bg-border"})})});p.displayName=m.gb.displayName;var y=t(9986),x=t(6763),k=t(5355),N=t(3721),j=t(4261);function E(e){let n=Math.floor(Date.now()/1e3);try{let t=(0,j.t)(e);if((null==t?void 0:t.exp)&&n>(null==t?void 0:t.exp))return!0;return!1}catch(e){return console.warn(e),!0}}let T=async e=>{let n;try{var t,r,l,o,i,a,u,s,c,d,f,v,g,b,_;let w=await y.Ju.getItem(e);if(null===w){let n=await (0,N.O)(e);if((null==n?void 0:n.ok)&&(null==n?void 0:null===(l=n.result)||void 0===l?void 0:l.token))w={accessToken:null==n?void 0:null===(i=n.result)||void 0===i?void 0:null===(o=i.token)||void 0===o?void 0:o.access,refreshToken:null==n?void 0:null===(u=n.result)||void 0===u?void 0:null===(a=u.token)||void 0===a?void 0:a.refresh};else throw Error("Game Session not found in cache")}else if(E(null==w?void 0:w.refreshToken)){let t=await (0,N.O)(e);if(null==t||!t.ok||null==t||null===(s=t.result)||void 0===s||!s.token)return n={ok:!1,error:"Unable to parse auth token."};w={accessToken:null==t?void 0:null===(d=t.result)||void 0===d?void 0:null===(c=d.token)||void 0===c?void 0:c.access,refreshToken:null==t?void 0:null===(v=t.result)||void 0===v?void 0:null===(f=v.token)||void 0===f?void 0:f.refresh}}let m=await fetch("./api/refresh",{cache:"no-store",method:"POST",headers:{refreshToken:null==w?void 0:w.refreshToken}});if(!(null==(n=await m.json())?void 0:n.ok))throw Error(null!==(g=null==n?void 0:n.error)&&void 0!==g?g:"Error in refresh function.");if((null==m?void 0:m.ok)&&(null==n?void 0:null===(t=n.result)||void 0===t?void 0:t.access)&&(null==n?void 0:null===(r=n.result)||void 0===r?void 0:r.refresh)){let t={accessToken:null==n?void 0:null===(b=n.result)||void 0===b?void 0:b.access,refreshToken:null==n?void 0:null===(_=n.result)||void 0===_?void 0:_.refresh};await y.Ju.setItem(e,t)}return n}catch(e){throw console.error("Error getting fresh token function:",e),Error("Error getting fresh token function.")}},I=async e=>{let n;try{var t,r,l,o,i,a,u,s,c;let d=await y.Ju.getItem(e);if(null===d){let n=await (0,N.O)(e);if(n.ok&&(null==n?void 0:null===(t=n.result)||void 0===t?void 0:t.token))d={accessToken:null==n?void 0:null===(l=n.result)||void 0===l?void 0:null===(r=l.token)||void 0===r?void 0:r.access,refreshToken:null==n?void 0:null===(o=n.result)||void 0===o?void 0:o.token.refresh};else throw Error("Game Session not found in cache")}if(E(null==d?void 0:d.accessToken)){let n=await T(e);(null==n?void 0:n.ok)&&(null==n?void 0:null===(i=n.result)||void 0===i?void 0:i.access)&&(null==n?void 0:null===(a=n.result)||void 0===a?void 0:a.refresh)&&(d={accessToken:null==n?void 0:null===(u=n.result)||void 0===u?void 0:u.access,refreshToken:null==n?void 0:null===(s=n.result)||void 0===s?void 0:s.refresh})}let f=await fetch("./api/me",{cache:"no-store",method:"GET",headers:{authorization:"Bearer ".concat(d.accessToken)}});if(!(null==(n=await f.json())?void 0:n.ok))throw Error(null!==(c=null==n?void 0:n.error)&&void 0!==c?c:"Error in me function");return n}catch(e){throw console.error("Error getting me:",e),Error("Error getting me")}},S=async e=>{let n;try{var t,r,l,o,i,a,u,s,c;let d=await y.Ju.getItem(e);if(null===d){let n=await (0,N.O)(e);if(n.ok&&(null==n?void 0:null===(t=n.result)||void 0===t?void 0:t.token))d={accessToken:null==n?void 0:null===(l=n.result)||void 0===l?void 0:null===(r=l.token)||void 0===r?void 0:r.access,refreshToken:null==n?void 0:null===(o=n.result)||void 0===o?void 0:o.token.refresh};else throw Error("Game Session not found in cache")}if(E(null==d?void 0:d.accessToken)){let n=await T(e);(null==n?void 0:n.ok)&&(null==n?void 0:null===(i=n.result)||void 0===i?void 0:i.access)&&(null==n?void 0:null===(a=n.result)||void 0===a?void 0:a.refresh)&&(d={accessToken:null==n?void 0:null===(u=n.result)||void 0===u?void 0:u.access,refreshToken:null==n?void 0:null===(s=n.result)||void 0===s?void 0:s.refresh})}let f=await fetch("./api/balance",{cache:"no-store",method:"GET",headers:{authorization:"Bearer ".concat(null==d?void 0:d.accessToken)}});if(n=await f.json(),!f.ok)throw Error(null!==(c=null==n?void 0:n.error)&&void 0!==c?c:"Error getting balance");return n}catch(e){throw console.error("Error getting me:",e),Error("Error getting me")}},A=async e=>{let n;try{var t,r,l,o,i,a,u,s,c;let d=await y.Ju.getItem(e);if(null===d){let n=await (0,N.O)(e);if(n.ok&&(null==n?void 0:null===(t=n.result)||void 0===t?void 0:t.token))d={accessToken:null==n?void 0:null===(l=n.result)||void 0===l?void 0:null===(r=l.token)||void 0===r?void 0:r.access,refreshToken:null==n?void 0:null===(o=n.result)||void 0===o?void 0:o.token.refresh};else throw Error("Game Session not found in cache")}if(E(null==d?void 0:d.accessToken)){let n=await T(e);(null==n?void 0:n.ok)&&(null==n?void 0:null===(i=n.result)||void 0===i?void 0:i.access)&&(null==n?void 0:null===(a=n.result)||void 0===a?void 0:a.refresh)&&(d={accessToken:null==n?void 0:null===(u=n.result)||void 0===u?void 0:u.access,refreshToken:null==n?void 0:null===(s=n.result)||void 0===s?void 0:s.refresh})}let f=await fetch("./api/game/play",{cache:"no-store",method:"POST",headers:{authorization:"Bearer ".concat(null==d?void 0:d.accessToken)}});if(!(null==(n=await f.json())?void 0:n.ok))throw Error(null!==(c=null==n?void 0:n.error)&&void 0!==c?c:"Error in game play function");return n}catch(e){throw console.error("Error playing game function:",e),Error("Error playing game function.")}},O=async(e,n)=>{let t;try{var r,l,o,i,a,u,s,c,d;let f=await y.Ju.getItem(e);if(null===f){let n=await (0,N.O)(e);if(n.ok&&(null==n?void 0:null===(r=n.result)||void 0===r?void 0:r.token))f={accessToken:null==n?void 0:null===(o=n.result)||void 0===o?void 0:null===(l=o.token)||void 0===l?void 0:l.access,refreshToken:null==n?void 0:null===(i=n.result)||void 0===i?void 0:i.token.refresh};else throw Error("Game Session not found in cache")}if(E(null==f?void 0:f.accessToken)){let n=await T(e);(null==n?void 0:n.ok)&&(null==n?void 0:null===(a=n.result)||void 0===a?void 0:a.access)&&(null==n?void 0:null===(u=n.result)||void 0===u?void 0:u.refresh)&&(f={accessToken:null==n?void 0:null===(s=n.result)||void 0===s?void 0:s.access,refreshToken:null==n?void 0:null===(c=n.result)||void 0===c?void 0:c.refresh})}let v=await fetch("./api/game/claim",{method:"POST",headers:{authorization:"Bearer ".concat(null==f?void 0:f.accessToken)},body:JSON.stringify({...n})});if(t=await v.json(),!(null==v?void 0:v.ok))throw Error(null!==(d=null==t?void 0:t.error)&&void 0!==d?d:"Error claim game");return t}catch(e){throw console.error("Error claim func game:",e),Error("Error claim function game")}};var D=t(1752);let P=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let n=16*Math.random()|0;return("x"===e?n:3&n|8).toString(16)});async function R(e){let n=await fetch("game_wasm_bg-DYwJl-6R.wasm");await (0,D.q)(n);let t=(0,D.D)(e);return{id:e,...t}}async function U(e,n,t,r){return{payload:(0,D.F)(e,n,t,r)}}async function F(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;try{let r=Date.now(),l=P(),o=await R(e),i={gameId:e,challenge:{...o,id:l},earnedPoints:{BP:{amount:n},...t>0&&{DOGS:{amount:t}}},assetClicks:{CLOVER:{clicks:n},FREEZE:{clicks:1},BOMB:{clicks:0}}},a=await U(i.gameId,i.challenge,i.earnedPoints,i.assetClicks),u=Date.now();return console.log("GetPayload took ".concat(u-r,"ms")),{payload:null==a?void 0:a.payload}}catch(e){return console.error(e),{payload:""}}}function C(){var e,n,t,g,_,m,p,N,j,E,T,D;let P=(0,o.useSearchParams)(),R=(0,o.useRouter)(),U=P.get("id"),[C,B]=(0,v.useState)(0),[M,q]=(0,v.useState)(0),[z,W]=(0,v.useState)("Nothing..."),[G,J]=(0,v.useState)(!1),[K,V]=(0,v.useState)(0);(0,v.useEffect)(()=>{""===U||isNaN(Number(U))?R.push("/profiles"):y.eH.getItem(U,(e,n)=>{(null===n||null!==e)&&R.push("/profiles")})},[R,U]);let{isPending:L,data:H}=(0,k.a)({queryKey:["me"],retry:5,retryDelay:e=>Math.min(1e3*2**e,3e4),queryFn:()=>I(U),placeholderData:()=>({ok:!0,result:{id:{id:"not"},username:"\uD83E\uDD14 NOT FOUND"}})}),{isPending:Y,data:$,refetch:Q}=(0,k.a)({queryKey:["balance"],retry:5,retryDelay:e=>Math.min(1e3*2**e,3e4),queryFn:()=>S(U),placeholderData:()=>({ok:!0,result:{playPasses:0,availableBalance:"0"}})});(0,v.useEffect)(()=>{let e;if(G&&M>0){let n=1e3*M/100,t=0;e=setInterval(()=>{let r=Math.min((t+=1)/n*100,100);V(r),r>=100&&(clearInterval(e),J(!1))},100)}return()=>clearInterval(e)},[G,M]);let X=async()=>{try{var e,n,t,r,l,o,i,a,u,s,d,f,v,g,b,_;if(B(null!==(r=Number(null==$?void 0:null===(e=$.result)||void 0===e?void 0:e.playPasses))&&void 0!==r?r:0),J(!0),(null==$?void 0:$.ok)&&(null==$?void 0:null===(n=$.result)||void 0===n?void 0:n.playPasses)&&Number(null==$?void 0:null===(t=$.result)||void 0===t?void 0:t.playPasses)>0){let e=await y.uk.getItem(U);null===y.uk?e={min:null!==(a=null==e?void 0:e.min)&&void 0!==a?a:200,max:null!==(u=null==e?void 0:e.max)&&void 0!==u?u:250,auto:null!==(s=null==e?void 0:e.auto)&&void 0!==s&&s}:(null==e?void 0:e.min)&&(null==e?void 0:e.max)||(e={min:null!==(d=null==e?void 0:e.min)&&void 0!==d?d:200,max:null!==(f=null==e?void 0:e.max)&&void 0!==f?f:250,auto:null!==(v=null==e?void 0:e.auto)&&void 0!==v&&v});let n=[(0,c.Kd)(31,35),(0,c.Kd)(3,5)],t=await A(U);if(!(null==t?void 0:t.ok)||!(null==t?void 0:null===(l=t.result)||void 0===l?void 0:l.gameId)){(0,x.Am)({title:"⛔ Error",description:null!==(g=null==t?void 0:t.error)&&void 0!==g?g:"Unable to start game",variant:"destructive"}),J(!1);return}let r=n.reduce((e,n)=>e+n,0);W("✅ Started game with ID: ".concat(null==t?void 0:null===(o=t.result)||void 0===o?void 0:o.gameId,"\n⏳Waiting ").concat(n[0]," seconds to claim...")),q(r),await (0,c._v)(n[0]);let w=(0,c.Kd)(null==e?void 0:e.min,null==e?void 0:e.max),m={gameId:null==t?void 0:null===(i=t.result)||void 0===i?void 0:i.gameId,points:w,dogs:0},h=await F(null==m?void 0:m.gameId,null==m?void 0:m.points);if(!(null==h?void 0:h.payload)){(0,x.Am)({title:"⛔ Error",description:"Unable to generate payload",variant:"destructive"}),W("Unable to generate payload"),await Q(),J(!1);return}W("⭐ Claiming game with ".concat(w," BLUM points...")),await (0,c._v)(n[1]);let p=await O(U,h);if(!(null==p?void 0:p.ok)||(null==p?void 0:p.result)!=="OK"){(0,x.Am)({title:"⛔ Error",description:null!==(b=null==p?void 0:p.error)&&void 0!==b?b:"Unable to claim game",variant:"destructive"}),W(null!==(_=null==p?void 0:p.error)&&void 0!==_?_:"Unable to claim game"),await Q(),J(!1);return}W("✅ Game claimed with ".concat(w," BLUM points")),await Q(),J(!1);return}(0,x.Am)({title:"⛔ Error",description:"Insufficient Passes",variant:"destructive"}),J(!1);return}catch(e){console.error(e),(0,x.Am)({title:"⛔ Error",description:"Error playing game",variant:"destructive"}),J(!1);return}},Z=async()=>{let e=await y.uk.getItem(U);if(null!==e&&null!=e&&e.auto){var n,t,r;if((null==$?void 0:$.ok)&&(null==$?void 0:$.result)&&(null==$?void 0:null===(n=$.result)||void 0===n?void 0:n.playPasses)>0)for(B(null!==(r=Number(null==$?void 0:null===(t=$.result)||void 0===t?void 0:t.playPasses))&&void 0!==r?r:0);C>0;)await X(),W("⏳ Waiting 5 seconds before next game..."),await (0,c._v)(5),B(C-1)}else await X()};return(0,r.jsx)(v.Suspense,{fallback:(0,r.jsx)(d,{className:"h-full w-full"}),children:(0,r.jsxs)("div",{className:"flex flex-col justify-between",children:[(0,r.jsxs)("section",{className:"my-5 flex w-full flex-col content-center items-center justify-center gap-y-4 space-y-1 py-2",children:[L?(0,r.jsx)(d,{className:"h-[100px] w-[100px] rounded-full"}):(null==H?void 0:H.ok)&&(null==H?void 0:H.result)&&(0,r.jsxs)(s.qE,{style:{width:100,height:100},children:[(0,r.jsx)(s.F$,{src:"https://s3.blum.codes/".concat(null==H?void 0:null===(e=H.result)||void 0===e?void 0:e.avatarFileKey),alt:"user",className:"rounded-full"}),(0,r.jsx)(s.Q5,{className:"text-2xl font-bold",children:(null==H?void 0:null===(n=H.result)||void 0===n?void 0:n.username)&&(0,c.Au)(null==H?void 0:null===(t=H.result)||void 0===t?void 0:t.username).split(" ").map(e=>e[0]).join("")})]}),L?(0,r.jsx)(d,{className:"h-10 w-[140px]"}):H&&(null==H?void 0:null===(g=H.result)||void 0===g?void 0:g.username)?(0,r.jsx)("span",{className:"text-2xl font-bold",children:null==H?void 0:null===(_=H.result)||void 0===_?void 0:_.username}):(0,r.jsx)(d,{className:"h-10 w-[140px]"}),(0,r.jsx)("div",{className:"flex",children:Y?(0,r.jsx)(d,{className:"h-12 w-[180px]"}):(null==$?void 0:$.result)&&(null==$?void 0:null===(m=$.result)||void 0===m?void 0:m.availableBalance)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.default,{src:u.src,alt:"blum",width:40,height:40,className:"rounded-full"})," ",(0,r.jsx)("span",{className:"text-4xl font-bold",children:new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(Number(null==$?void 0:null===(p=$.result)||void 0===p?void 0:p.availableBalance))})]}):(0,r.jsx)(d,{className:"h-12 w-[180px]"})})]}),(0,r.jsx)("section",{className:"mx-auto my-5 w-full rounded-lg",children:(0,r.jsxs)("div",{className:"mx-4 rounded-lg border p-2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)(f._,{children:"Events"}),(0,r.jsx)(i.z,{size:"icon",variant:"ghost",className:"my-auto h-5 w-5 rounded-full",disabled:!G,children:(0,r.jsx)(a.Z,{className:"stroke-red-500"})})]}),(0,r.jsx)(b,{className:"mt-2"}),(0,r.jsx)(h,{className:"my-4 h-20 w-full whitespace-break-spaces px-2 font-mono text-muted-foreground",children:z}),(0,r.jsx)(b,{className:"mb-2"}),(0,r.jsx)(w,{value:K})]})}),(0,r.jsx)("section",{className:"fixed bottom-4 mx-auto w-full",children:(0,r.jsx)("div",{className:"mx-4 rounded-lg bg-stone-800 bg-custom bg-cover bg-no-repeat px-7 py-2",children:(0,r.jsxs)("div",{className:"space-y-2 border-none align-middle",children:[(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(l.default,{src:"/_next/static/media/drop.c39815e5.webp",alt:"drop",width:60,height:60,className:(0,c.cn)("my-2",G?"animate-spin":"")})}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("span",{className:"text-xl font-bold",children:"Drop game"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.default,{src:"/_next/static/media/ticket.bf28f778.webp",alt:"pass",width:20,height:20,className:"mr-2 inline"}),Y?(0,r.jsx)(d,{className:"inline-block h-3 w-[20px]"}):(null==$?void 0:$.result)&&(null==$?void 0:null===(N=$.result)||void 0===N?void 0:N.playPasses)?(0,r.jsx)("span",{className:"text-sm font-bold",children:null==$?void 0:null===(j=$.result)||void 0===j?void 0:j.playPasses}):(0,r.jsx)(d,{className:"inline-block h-3 w-[20px]"})]})]}),(0,r.jsx)(i.z,{variant:"default",disabled:0>=Number(null!==(D=null==$?void 0:null===(E=$.result)||void 0===E?void 0:E.playPasses)&&void 0!==D?D:0)||Y||!$||!(null==$?void 0:null===(T=$.result)||void 0===T?void 0:T.playPasses)||G,type:"button",className:"rounded-full font-bold",onClick:Z,children:"Play"})]})]})})})]})})}},9986:function(e,n,t){"use strict";t.d(n,{Ju:function(){return i},eH:function(){return o},ix:function(){return u},uk:function(){return a}});var r=t(3031),l=t.n(r);let o=l().createInstance({name:"profiles"}),i=l().createInstance({name:"gameSessions"}),a=l().createInstance({name:"gameConfig"});async function u(e){let n=[];try{return await e.iterate(e=>{n.push(e)}),n}catch(e){return console.error("Error getting all values:",e),[]}}},3721:function(e,n,t){"use strict";t.d(n,{O:function(){return o}});var r=t(9986),l=t(8410);let o=async e=>{if(!await r.eH.ready().then(()=>!0).catch(()=>!1))return{ok:!1,error:"⛔ LocalForage is not ready.",blocked:!1};try{let t=await fetch("./api/auth",{cache:"no-store",method:"POST",headers:{"init-data":e}}),r=await t.json();if(!(null==t?void 0:t.ok)){var n;return{ok:!1,error:null!==(n=null==r?void 0:r.error)&&void 0!==n?n:"Error in login function.",blocked:!1}}let o=(0,l.gR)(e);if(null===o)return{ok:!1,error:"⛔ Unable to parse telegram query.",blocked:!1};return r}catch(e){return console.error("Error in login function.",e),{ok:!1,error:"Error in login function.",blocked:!1}}}},1752:function(e,n,t){"use strict";let r,l;t.d(n,{D:function(){return y},F:function(){return x},q:function(){return E}}),e=t.hmd(e);let o=globalThis||self,i=Array(128).fill(void 0);i.push(void 0,null,!0,!1);let a=0,u=null;function s(){return(null===u||0===u.byteLength)&&(u=new Uint8Array(r.memory.buffer)),u}let c="u">typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},d="function"==typeof c.encodeInto?function(e,n){return c.encodeInto(e,n)}:function(e,n){let t=c.encode(e);return n.set(t),{read:e.length,written:t.length}};function f(e,n,t){if(void 0===t){let t=c.encode(e),r=n(t.length,1)>>>0;return s().subarray(r,r+t.length).set(t),a=t.length,r}let r=e.length,l=n(r,1)>>>0,o=s(),i=0;for(;i<r;i++){let n=e.charCodeAt(i);if(n>127)break;o[l+i]=n}if(i!==r){0!==i&&(e=e.slice(i)),l=t(l,r,r=i+3*e.length,1)>>>0;let n=d(e,s().subarray(l+i,l+r));i+=n.written,l=t(l,r,i,1)>>>0}return a=i,l}function v(e){return null==e}let g=null;function b(){return(null===g||!0===g.buffer.detached||void 0===g.buffer.detached&&g.buffer!==r.memory.buffer)&&(g=new DataView(r.memory.buffer)),g}let _=i.length;function w(e){let n=i[e];return e<132||(i[e]=_,_=e),n}let m="u">typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};function h(e,n){return e>>>=0,m.decode(s().subarray(e,e+n))}function p(e){_===i.length&&i.push(i.length+1);let n=_;return _=i[n],i[n]=e,n}function y(e){try{let l=r.__wbindgen_add_to_stack_pointer(-16),o=f(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=a;r.proof(l,o,i);var n=b().getInt32(l+0,!0),t=b().getInt32(l+4,!0);if(b().getInt32(l+8,!0))throw w(t);return w(n)}finally{r.__wbindgen_add_to_stack_pointer(16)}}function x(e,n,t,l){let o,i;try{let _=r.__wbindgen_add_to_stack_pointer(-16),m=f(e,r.__wbindgen_malloc,r.__wbindgen_realloc),y=a;r.pack(_,m,y,p(n),p(t),p(l));var u=b().getInt32(_+0,!0),s=b().getInt32(_+4,!0),c=b().getInt32(_+8,!0),d=b().getInt32(_+12,!0),v=u,g=s;if(d)throw v=0,g=0,w(c);return o=v,i=g,h(v,g)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(o,i,1)}}function k(e,n){try{return e.apply(this,n)}catch(e){r.__wbindgen_exn_store(p(e))}}async function N(e,n){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,n)}catch(n){if("application/wasm"!=e.headers.get("Content-Type"))console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n);else throw n}let t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}{let t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}async function j(n){if(void 0!==r)return r;let t=function(){let n={};return n.wbg={},n.wbg.__wbindgen_string_get=function(e,n){let t=i[n],l="string"==typeof t?t:void 0;var o=v(l)?0:f(l,r.__wbindgen_malloc,r.__wbindgen_realloc),u=a;b().setInt32(e+4,u,!0),b().setInt32(e+0,o,!0)},n.wbg.__wbindgen_object_drop_ref=function(e){w(e)},n.wbg.__wbindgen_error_new=function(e,n){return p(Error(h(e,n)))},n.wbg.__wbindgen_is_bigint=function(e){return"bigint"==typeof i[e]},n.wbg.__wbindgen_bigint_from_u64=function(e){return p(BigInt.asUintN(64,e))},n.wbg.__wbindgen_jsval_eq=function(e,n){return i[e]===i[n]},n.wbg.__wbindgen_is_object=function(e){let n=i[e];return"object"==typeof n&&null!==n},n.wbg.__wbindgen_is_undefined=function(e){return void 0===i[e]},n.wbg.__wbindgen_in=function(e,n){return i[e]in i[n]},n.wbg.__wbg_crypto_1d1f22824a6a080c=function(e){return p(i[e].crypto)},n.wbg.__wbg_process_4a72847cc503995b=function(e){return p(i[e].process)},n.wbg.__wbg_versions_f686565e586dd935=function(e){return p(i[e].versions)},n.wbg.__wbg_node_104a2ff8d6ea03a2=function(e){return p(i[e].node)},n.wbg.__wbindgen_is_string=function(e){return"string"==typeof i[e]},n.wbg.__wbg_require_cca90b1a94a0255b=function(){return k(function(){return p(e.require)},arguments)},n.wbg.__wbindgen_is_function=function(e){return"function"==typeof i[e]},n.wbg.__wbindgen_string_new=function(e,n){return p(h(e,n))},n.wbg.__wbg_msCrypto_eb05e62b530a1508=function(e){return p(i[e].msCrypto)},n.wbg.__wbg_randomFillSync_5c9c955aa56b6049=function(){return k(function(e,n){i[e].randomFillSync(w(n))},arguments)},n.wbg.__wbg_getRandomValues_3aa56aa6edec874c=function(){return k(function(e,n){i[e].getRandomValues(i[n])},arguments)},n.wbg.__wbindgen_jsval_loose_eq=function(e,n){return i[e]==i[n]},n.wbg.__wbindgen_boolean_get=function(e){let n=i[e];return"boolean"==typeof n?n?1:0:2},n.wbg.__wbindgen_number_get=function(e,n){let t=i[n],r="number"==typeof t?t:void 0;b().setFloat64(e+8,v(r)?0:r,!0),b().setInt32(e+0,!v(r),!0)},n.wbg.__wbindgen_as_number=function(e){return+i[e]},n.wbg.__wbindgen_number_new=function(e){return p(e)},n.wbg.__wbindgen_object_clone_ref=function(e){return p(i[e])},n.wbg.__wbg_getwithrefkey_edc2c8960f0f1191=function(e,n){return p(i[e][i[n]])},n.wbg.__wbg_set_f975102236d3c502=function(e,n,t){i[e][w(n)]=w(t)},n.wbg.__wbg_String_b9412f8799faab3e=function(e,n){let t=f(String(i[n]),r.__wbindgen_malloc,r.__wbindgen_realloc),l=a;b().setInt32(e+4,l,!0),b().setInt32(e+0,t,!0)},n.wbg.__wbg_get_3baa728f9d58d3f6=function(e,n){return p(i[e][n>>>0])},n.wbg.__wbg_length_ae22078168b726f5=function(e){return i[e].length},n.wbg.__wbg_newnoargs_76313bd6ff35d0f2=function(e,n){return p(Function(h(e,n)))},n.wbg.__wbg_next_de3e9db4440638b2=function(e){return p(i[e].next)},n.wbg.__wbg_next_f9cb570345655b9a=function(){return k(function(e){return p(i[e].next())},arguments)},n.wbg.__wbg_done_bfda7aa8f252b39f=function(e){return i[e].done},n.wbg.__wbg_value_6d39332ab4788d86=function(e){return p(i[e].value)},n.wbg.__wbg_iterator_888179a48810a9fe=function(){return p(Symbol.iterator)},n.wbg.__wbg_get_224d16597dbbfd96=function(){return k(function(e,n){return p(Reflect.get(i[e],i[n]))},arguments)},n.wbg.__wbg_call_1084a111329e68ce=function(){return k(function(e,n){return p(i[e].call(i[n]))},arguments)},n.wbg.__wbg_new_525245e2b9901204=function(){return p({})},n.wbg.__wbg_self_3093d5d1f7bcb682=function(){return k(function(){return p(self.self)},arguments)},n.wbg.__wbg_window_3bcfc4d31bc012f8=function(){return k(function(){return p(window.window)},arguments)},n.wbg.__wbg_globalThis_86b222e13bdf32ed=function(){return k(function(){return p(globalThis.globalThis)},arguments)},n.wbg.__wbg_global_e5a3fe56f8be9485=function(){return k(function(){return p(o.global)},arguments)},n.wbg.__wbg_instanceof_ArrayBuffer_61dfc3198373c902=function(e){let n;try{n=i[e]instanceof ArrayBuffer}catch(e){n=!1}return n},n.wbg.__wbg_call_89af060b4e1523f2=function(){return k(function(e,n,t){return p(i[e].call(i[n],i[t]))},arguments)},n.wbg.__wbg_isSafeInteger_7f1ed56200d90674=function(e){return Number.isSafeInteger(i[e])},n.wbg.__wbg_entries_7a0e06255456ebcd=function(e){return p(Object.entries(i[e]))},n.wbg.__wbg_buffer_b7b08af79b0b0974=function(e){return p(i[e].buffer)},n.wbg.__wbg_newwithbyteoffsetandlength_8a2cb9ca96b27ec9=function(e,n,t){return p(new Uint8Array(i[e],n>>>0,t>>>0))},n.wbg.__wbg_new_ea1883e1e5e86686=function(e){return p(new Uint8Array(i[e]))},n.wbg.__wbg_set_d1e79e2388520f18=function(e,n,t){i[e].set(i[n],t>>>0)},n.wbg.__wbg_length_8339fcf5d8ecd12e=function(e){return i[e].length},n.wbg.__wbg_instanceof_Uint8Array_247a91427532499e=function(e){let n;try{n=i[e]instanceof Uint8Array}catch(e){n=!1}return n},n.wbg.__wbg_newwithlength_ec548f448387c968=function(e){return p(new Uint8Array(e>>>0))},n.wbg.__wbg_subarray_7c2e3576afe181d1=function(e,n,t){return p(i[e].subarray(n>>>0,t>>>0))},n.wbg.__wbindgen_bigint_get_as_i64=function(e,n){let t=i[n],r="bigint"==typeof t?t:void 0;b().setBigInt64(e+8,v(r)?BigInt(0):r,!0),b().setInt32(e+0,!v(r),!0)},n.wbg.__wbindgen_debug_string=function(e,n){let t=f(function e(n){let t;let r=typeof n;if("number"==r||"boolean"==r||null==n)return"".concat(n);if("string"==r)return'"'.concat(n,'"');if("symbol"==r){let e=n.description;return null==e?"Symbol":"Symbol(".concat(e,")")}if("function"==r){let e=n.name;return"string"==typeof e&&e.length>0?"Function(".concat(e,")"):"Function"}if(Array.isArray(n)){let t=n.length,r="[";t>0&&(r+=e(n[0]));for(let l=1;l<t;l++)r+=", "+e(n[l]);return r+"]"}let l=/\[object ([^\]]+)\]/.exec(toString.call(n));if(!(l.length>1))return toString.call(n);if("Object"==(t=l[1]))try{return"Object("+JSON.stringify(n)+")"}catch(e){return"Object"}return n instanceof Error?"".concat(n.name,": ").concat(n.message,"\n").concat(n.stack):t}(i[n]),r.__wbindgen_malloc,r.__wbindgen_realloc),l=a;b().setInt32(e+4,l,!0),b().setInt32(e+0,t,!0)},n.wbg.__wbindgen_throw=function(e,n){throw Error(h(e,n))},n.wbg.__wbindgen_memory=function(){return p(r.memory)},n}(),{instance:l,module:s}=await N(await n,t);return r=l.exports,j.__wbindgen_wasm_module=s,g=null,u=null,r}"u">typeof TextDecoder&&m.decode();let E=async e=>{void 0===l&&(l=j(e)),await l}},420:function(e,n,t){"use strict";t.d(n,{F$:function(){return u},Q5:function(){return s},qE:function(){return a}});var r=t(7437),l=t(2265),o=t(4458),i=t(9354);let a=l.forwardRef((e,n)=>{let{className:t,...l}=e;return(0,r.jsx)(o.fC,{ref:n,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...l})});a.displayName=o.fC.displayName;let u=l.forwardRef((e,n)=>{let{className:t,...l}=e;return(0,r.jsx)(o.Ee,{ref:n,className:(0,i.cn)("aspect-square h-full w-full",t),...l})});u.displayName=o.Ee.displayName;let s=l.forwardRef((e,n)=>{let{className:t,...l}=e;return(0,r.jsx)(o.NY,{ref:n,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...l})});s.displayName=o.NY.displayName},9733:function(e,n,t){"use strict";t.d(n,{d:function(){return u},z:function(){return s}});var r=t(7437),l=t(2265),o=t(1538),i=t(2218),a=t(9354);let u=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),s=l.forwardRef((e,n)=>{let{className:t,variant:l,size:i,asChild:s=!1,...c}=e,d=s?o.g7:"button";return(0,r.jsx)(d,{className:(0,a.cn)(u({variant:l,size:i,className:t})),ref:n,...c})});s.displayName="Button"},6763:function(e,n,t){"use strict";t.d(n,{Am:function(){return d},pm:function(){return f}});var r=t(2265);let l=0,o=new Map,i=e=>{if(o.has(e))return;let n=setTimeout(()=>{o.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,n)},a=(e,n)=>{switch(n.type){case"ADD_TOAST":return{...e,toasts:[n.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===n.toast.id?{...e,...n.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=n;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===n.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==n.toastId)}}},u=[],s={toasts:[]};function c(e){s=a(s,e),u.forEach(e=>{e(s)})}function d(e){let{...n}=e,t=(l=(l+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...n,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function f(){let[e,n]=r.useState(s);return r.useEffect(()=>(u.push(n),()=>{let e=u.indexOf(n);e>-1&&u.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},8410:function(e,n,t){"use strict";function r(e){try{let n=e.match(/(https?:\/\/[^\s]+)/g)[0],t=new URL(n).hash,r=decodeURIComponent(t),l=decodeURIComponent(r).replace("#tgWebAppData=","").split("&tgWebAppVersion=")[0];return encodeURI(l)}catch(e){return console.error(e),""}}function l(e,n,t){try{let r=(t?t(e):decodeURIComponent(e)).match(n||/[{\[]{1}([,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]|".*?")+[}\]]{1}/g);if(!r)return null;return Object.assign({},...r.map(e=>JSON.parse(e)))}catch(e){return console.error(e),null}}t.d(n,{HO:function(){return r},gR:function(){return l}})},9354:function(e,n,t){"use strict";t.d(n,{Au:function(){return u},Kd:function(){return a},_v:function(){return i},cn:function(){return o}});var r=t(4839),l=t(6164);function o(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,l.m6)((0,r.W)(n))}function i(e){return new Promise(n=>setTimeout(n,1e3*e))}function a(e,n){return Math.floor(Math.random()*(n-e+1))+e}function u(e){return e.replace(/[^\x00-\x7F]/g,"")}}},function(e){e.O(0,[934,355,434,971,23,744],function(){return e(e.s=2676)}),_N_E=e.O()}]);