(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},4402:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),t(59),t(2155),t(5866);var a=t(3191),s=t(8716),n=t(7922),o=t.n(n),i=t(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(r,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,59)),"C:\\Users\\sanji\\Desktop\\archive\\blumerx\\src\\app\\page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,2155)),"C:\\Users\\sanji\\Desktop\\archive\\blumerx\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\sanji\\Desktop\\archive\\blumerx\\src\\app\\page.tsx"],u="/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3910:(e,r,t)=>{Promise.resolve().then(t.bind(t,8568)),Promise.resolve().then(t.bind(t,7141))},8568:(e,r,t)=>{"use strict";t.d(r,{DemoContainer:()=>n});var a=t(326),s=t(1223);function n({className:e,...r}){return a.jsx("div",{className:(0,s.cn)("flex w-full items-center justify-center",e),...r})}},7141:(e,r,t)=>{"use strict";t.d(r,{LoginForm:()=>h});var a=t(326),s=t(1664),n=t(9752),o=t(4794),i=t(7577),l=t(1223);let d=i.forwardRef(({className:e,...r},t)=>a.jsx("textarea",{className:(0,l.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...r}));d.displayName="Textarea";let c=(0,t(2881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var u=t(363),p=t(4097),m=t(9826),f=t(5047),x=t(7762);function h(){let e=(0,f.useRouter)(),[r,t]=(0,i.useState)(""),[h,g]=(0,i.useState)(""),[b,v]=(0,i.useState)(!1),j=async()=>{v(!0);let t=(0,u.HO)(r);if(!t){(0,p.Am)({title:"\uD83D\uDE42‍↔️ Nope!",description:"\uD83D\uDE42‍ Please enter a valid data.",variant:"destructive"}),v(!1);return}let a=(0,u.gR)(t);if(null===a){(0,p.Am)({title:"\uD83D\uDE42‍↔️ Nope!",description:"\uD83D\uDE42‍ Please enter a valid data.",variant:"destructive"}),v(!1);return}g(t);let s=await (0,x.O)(t);if(!s.ok||!s?.result){(0,p.Am)({title:"\uD83D\uDE42‍↔️ Nope!",description:"⛔ Unable to login."}),v(!1);return}if(!s?.result?.token?.access||!s?.result?.token?.refresh){(0,p.Am)({title:"\uD83D\uDE42‍↔️ Nope!",description:"⛔ Not able to get login info."}),v(!1);return}let n={accessToken:s?.result?.token?.access,refreshToken:s?.result?.token?.refresh};m.Ju.setItem(a.id.toString(),n).then(()=>{(0,p.Am)({title:"\uD83D\uDE32 Yes!",description:`👍 Welcome, ${a.first_name}!`})}).catch(e=>{console.error(`⛔ Failed to store game session for ${a?.first_name}.`,e),(0,p.Am)({title:"\uD83D\uDE32 Yes!",description:`👍 Welcome, ${a.first_name}!`})}),m.eH.setItem(a?.id.toString(),h||t).then(()=>{console.log(`✅ Stored profile for ${a?.first_name}.`)}).catch(e=>{console.error(`⛔ Failed to store profile for ${a?.first_name}.`,e)}),await (0,l._v)(1),e.push(`./playground?id=${a.id}`),v(!1)};return(0,a.jsxs)(n.Zb,{className:"w-full max-w-sm",children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{className:"text-2xl",children:"Account"}),a.jsx(n.SZ,{children:"Paste your telegram webapp data from bot."})]}),a.jsx(n.aY,{className:"grid gap-4",children:(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(o._,{htmlFor:"webappdata",children:"Webapp Data"}),a.jsx(d,{rows:9,defaultValue:r,onChange:e=>t(e.target.value),className:"resize-none",readOnly:b,id:"webappdata",maxLength:2e3,minLength:500,placeholder:"Paste webapp data here"})]})}),a.jsx(n.eW,{children:a.jsx(s.z,{disabled:b||!r||r.length<500||r.length>2e3,onClick:j,type:"button",className:(0,l.cn)("w-full py-4 font-bold",b&&"cursor-wait"),children:b?(0,a.jsxs)(a.Fragment,{children:[a.jsx(c,{className:"mr-2 h-5 w-5 animate-spin"})," Loading"]}):"Load Account"})})]})}},7762:(e,r,t)=>{"use strict";t.d(r,{O:()=>n});var a=t(9826),s=t(363);let n=async e=>{if(!await a.eH.ready().then(()=>!0).catch(()=>!1))return{ok:!1,error:"⛔ LocalForage is not ready.",blocked:!1};try{let r=await fetch("./api/auth",{cache:"no-store",method:"POST",headers:{"init-data":e}}),t=await r.json();if(!r?.ok)return{ok:!1,error:t?.error??"Error in login function.",blocked:!1};let a=(0,s.gR)(e);if(null===a)return{ok:!1,error:"⛔ Unable to parse telegram query.",blocked:!1};return t}catch(e){return console.error("Error in login function.",e),{ok:!1,error:"Error in login function.",blocked:!1}}}},9752:(e,r,t)=>{"use strict";t.d(r,{Ol:()=>i,SZ:()=>d,Zb:()=>o,aY:()=>c,eW:()=>u,ll:()=>l});var a=t(326),s=t(7577),n=t(1223);let o=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...r}));o.displayName="Card";let i=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...r}));i.displayName="CardHeader";let l=s.forwardRef(({className:e,...r},t)=>a.jsx("h3",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",e),...r}));l.displayName="CardTitle";let d=s.forwardRef(({className:e,...r},t)=>a.jsx("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...r}));d.displayName="CardDescription";let c=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let u=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",e),...r}));u.displayName="CardFooter"},363:(e,r,t)=>{"use strict";function a(e){try{let r=e.match(/(https?:\/\/[^\s]+)/g)[0],t=new URL(r).hash,a=decodeURIComponent(t),s=decodeURIComponent(a).replace("#tgWebAppData=","").split("&tgWebAppVersion=")[0];return encodeURI(s)}catch(e){return console.error(e),""}}function s(e,r,t){try{let a=(t?t(e):decodeURIComponent(e)).match(r||/[{\[]{1}([,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]|".*?")+[}\]]{1}/g);if(!a)return null;return Object.assign({},...a.map(e=>JSON.parse(e)))}catch(e){return console.error(e),null}}t.d(r,{HO:()=>a,gR:()=>s})},59:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l,metadata:()=>i});var a=t(9510),s=t(8570);let n=(0,s.createProxy)(String.raw`C:\Users\sanji\Desktop\archive\blumerx\src\components\Login.tsx#LoginForm`),o=(0,s.createProxy)(String.raw`C:\Users\sanji\Desktop\archive\blumerx\src\components\Container.tsx#DemoContainer`),i={title:"Login",description:"Login Blum"};function l(){return a.jsx("div",{className:"flex min-h-svh items-center justify-center gap-6 rounded-lg p-8 align-middle md:grid",children:a.jsx(o,{children:a.jsx(n,{})})})}},3881:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});var a=t(6621);let s=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var r=require("../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[948,487,621,652],()=>t(4402));module.exports=a})();